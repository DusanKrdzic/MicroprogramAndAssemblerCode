//MAIN

100, 2C
101, A0
102, 00
103, FB // storuje u SP novu vrednost A000 jer je 1000 zaduzeta

104, 2C
105, 00
106, 00 // LD #0

107, 30
108, 00
109, 01 // ST l (l je na adresi 1 i 2)

10A, 20
10B, 10
10C, 00 // LD 1000

10D, 7C 
10E, 00
10F, 01 // SUB #1
 
110, 30
111, 00
112, 03 // ST r (r na adresi 3 i 4)

113, 20
114, 00
115,01 // LD l

116, 30
117, 00
118, 05 // ST poml (poml na adresi 5,6)

119, 20
11A,00
11B,03 // LD r

11C, 30
11D, 00
11E, 07 //ST pomr (pomr na adresi 7,8)

11F, 11
120, 20
121, 00 // JSR 2000 (mergesort)
 
122, FE //HALT


// mergesort
2000, 20
2001, 00
2002, 05 // LD poml

2003, FC //PUSH

2004, 20
2005, 00
2006, 07 // LD pomr

2007, FC // PUSH

2008, 20
2009, 00
200A, 05 // LD poml

200B, 70
200C, 00
200D, 07 // SUB pomr

200E, 08
200F, 4B // BEQL PC(4B) na 205B tj end1  

2010, 20
2011, 00
2012, 07 // LD pomr

2013, 70
2014, 00
2015, 05 // SUB poml

2016, F2 // ASR


2017, 60
2018, 00
2019, 05 // ADD poml

201A, 30
201B, 00
201C, 09 // ST m (m je na adresi 9)

201D, FC // PUSH

201E, 20
201F, 00
2020, 09 // LD m

2021, 30
2022, 00
2023, 07 // ST pomr

2024, 11
2025, 20
2026, 00 // JSR 2000

2027, FD // POP

2028, 30
2029, 00
202A, 09 // ST m

202B, FD // POP

202C, 30
202D, 00
202E, 07 // ST pomr

202F, FD // POP

2030, 30
2031, 00
2032, 05 // ST poml

2033, 20
2034, 00
2035, 05 // LD poml

2036, FC //PUSH

2037, 20
2038, 00
2039, 07 // LD pomr

203A, FC // PUSH

203B, 20
203C, 00
203D, 09 // LD m

203E, FC // PUSH

203F, 20
2040, 00
2041, 09 // LD m
 
2042, 6C
2043, 00
2044, 01 // ADD #1

2045, 30
2046, 00
2047, 05 // ST poml

2048, 11
2049, 20
204A, 00 // JSR 2000

204B, FD // POP

204C, 30
204D, 00
204E, 09 // ST m

204F, FD // POP

2050, 30
2051, 00
2052, 07 // ST pomr

2053, FD // POP

2054, 30
2055, 00
2056, 05 // ST poml

2057, 11
2058, 30
2059, 00 // JSR 3000 (merge)

205A, F0 //RTS


//end1
205B, FD  //POP
205C, FD //POP
205D, F0 //RTS


//merge
3000, 20
3001, 00
3002, 09 // LD m

3003, 70
3004, 00
3005, 05 // SUB poml

3006, 6C
3007, 00
3008, 01 // ADD #1

3009, 30
300A, 00
300B, 0B // ST n1

300C, 20
300D, 00
300E, 07 // LD pomr

300F, 70
3010, 00
3011, 09 // SUB m

3012, 30
3013, 00
3014, 0D // ST n2

3015, 2C
3016, 00
3017, 00 // LD #0

3018, 30
3019, 00
301A, 0F // ST i

301B, 30
301C, 00
301D, 11 // ST j

//FOR1
301E, 20
301F, 00
3020, 0F // LD i

3021, 70
3022, 00
3023, 0B // Sub n1

3024, 08
3025, 29 // BEQl PC(29) for2 

3026, 20
3027, 00
3028, 05 // LD poml

3029, 60
302A, 00
302B, 0F // add i

302C, F5 // ASL

302D, 6C
302E, 10
302F, 10 // ADD ARR

3030, 30
3031, 00
3032, 13 // ST POM1 

3033, 20
3034, 00
3035, 0F // LD I

3036, F5 // ASL

3037, 6C
3038, 03
3039, 00 // ADD ARR1

303A, 30
303B, 00
303C, 15 // ST POM2

303D, 24
303E, 00
303F,13  // LD (POM1)

3040, 34
3041, 00
3042, 15 // ST (POM2)

3043, 20
3044, 00
3045, 0F // LD I

3046, 6C
3047,00
3048, 01 // ADD #1

3049, 30
304A, 00
304B, 0F // ST I

304C, 10
304D, 30
304E, 1E //JMP FOR1


//FOR2
304F, 20
3050, 00
3051, 11 // LD J

3052,70
3053,00
3054, 0D // SUB N2

3055, 08
3056, 2C // BEQL PC(2C) NA ENDFOR2     

3057, 20
3058, 00
3059, 09 //LD M

305A, 6C
305B, 00
305C, 01 // ADD #1

305D, 60
305E, 00
305F, 11 // ADD J

3060, F5 // ASL

3061, 6C
3062, 10
3063, 10 // ADD ARR

3064, 30
3065, 00
3066, 13 // ST POM1
 
3067, 20
3068, 00
3069, 11 // LD J

306A, F5 // ASL

306B, 6C
306C, 05
306D, 00 // ADD ARR2

306E, 30
306F, 00
3070, 15 // ST POM2

3071, 24
3072, 00
3073, 13 // LD (POM1)

3074, 34
3075, 00
3076, 15 // ST (POM2)

3077, 20
3078, 00
3079, 11 // LD J

307A, 6C
307B, 00
307C, 01 // ADD #1

307D, 30
307E, 00
307F, 11 // ST J

3080, 10
3081, 30
3082, 4F // JMP FOR2

//ENDFOR2
3083, 2C
3084, 00
3085, 00 // LD 0

3086, 30
3087, 00
3088, 0F // ST I

3089,30
308A,00
308B,11 // ST J

308C,20
308D,00
308E,05 // LD POML

308F,30
3090,00
3091,17 // ST K JE NA 0017

//WHILE1
3092, 20
3093, 00
3094, 0F // LD I

3095, 70
3096, 00
3097, 0B // SUB N1

3098, 30
3099,00
309A,19 // ST USLOV1

309B, 20 
309C, 00
309D, 11 // LD J

309E, 70
309F,00
30A0, 0D // SUB N2

30A1, 30
30A2, 00
30A3, 1B // ST USLOV2

30A4, 80
30A5, 00
30A6, 19 // USLOV1 AND USLOV 2

30A7, 08
30A8, 72 // BEQL PC(72) NA WHILE2  

//IF

30A9, 20
30AA, 00
30AB, 0F // LD I

30AC, F5 // ASL

30AD, 6C
30AE, 03
30AF, 00 // ADD ARR1



30B0,30
30B1,00
30B2,13 // ST POM1

30B3, 20
30B4, 00
30B5, 11 // LD J

30B6, F5 // ASL

30B7, 6C
30B8, 05
30B9, 00 // AD ARR2



30BA,30
30BB,00
30BC,15 // ST POM2

30BD, 24
30BE, 00 
30BF,13  // LD (POM1)

30C0, 74
30C1, 00
30C2,15  // SUB (POM2)

30C3, 00
30C4, 27 // BGRT PC(27) SKOCI NA ELSE 

30C5, 20
30C6, 00
30C7, 17 // LD K

30C8, F5 // ASL

30C9, 6C
30CA, 10
30CB, 10 // ADD ARR

30CC,  FF //NOP

30CD, 30
30CE, 00
30CF, 13 // ST POM1

30D0,20
30D1, 00
30D2,0F // LD I

30D3, F5 // ASL

30D4, 6C
30D5, 03
30D6, 00 // ADD ARR1

30D7,30
30D8, 00
30D9,15  // ST POM2 

30DA, 24
30DB, 00
30DC, 15 // LD (POM2)

30DD, 34
30DE, 00
30DF,13 // ST (POM1)

30E0, 20
30E1,00
30E2,0F // LD I
 
30E3, 6C
30E4, 00
30E5, 01 // ADD #1

30E6, 30
30E7, 00
30E8, 0F // ST I

30E9, 10
30EA, 31
30EB, 0F  // JMP INCK   

// ELSE

30EC, 20
30ED, 00
30EE, 17 // LD K

30EF, F5 //ASL

30F0, 6C
30F1, 10
30F2,10 // ADD ARR

30F3, 30
30F4, 00
30F5, 13 // ST POM1

30F6, 20
30F7,00
30F8, 11 // LD J

30F9, F5 // ASL

30FA, 6C
30FB, 05
30FC, 00 // ADD ARR2

30FD, 30
30FE, 00
30FF,15 // ST POM2

3100, 24
3101, 00
3102, 15 // LD (POM2)

3103,34
3104,00
3105,13 // ST (POM1)

3106, 20
3107,00
3108,11 // LD J
 
3109, 6C
310A, 00
310B, 01 // ADD #1

310C, 30
310D, 00
310E, 11 // ST J

// INCK

310F, 20
3110,00
3111,17 // LD K
 
3112, 6C
3113, 00
3114, 01 // ADD #1

3115, 30
3116, 00
3117, 17 // ST K

3118, 10
3119, 30
311A, 92 // JMP WHILE1

//WHILE2
311B, 20 
311C,00
311D,0F // LD I
 
311E, 70
311F, 00
3120, 0B // SUB N1

3121, 08
3122, 2F // BEQL PC(2F) SKOCI NA WHILE3 


3123, 20
3124, 00
3125,17 // LD K

3126, F5 //ASL


3127,6C
3128,10
3129,10 // ADD ARR



312A, 30
312B, 00
312C, 13 // ST POM1

312D, 20
312E,00
312F,0F // LD I

3130, F5 // ASL


3131, 6C
3132, 03
3133,00 // ADD ARR1



3134, 30
3135,00
3136,15 // ST POM2

3137, 24
3138,00
3139,15 // LD (POM2)
 
313A, 34
313B, 00
313C,13 // ST (POM1)

313D, 20
313E,00
313F,17 // LD K
 
3140, 6C
3141, 00
3142, 01 // ADD #1

3143, 30
3144, 00
3145, 17 // ST K


3146, 20
3147,00
3148,0F // LD I
 
3149, 6C
314A, 00
314B, 01 // ADD #1

314C, 30
314D, 00
314E, 0F // ST I

314F,10
3150,31
3151,1B // JMP WHILE2

//WHILE 3
3152, 20 
3153,00
3154,11 // LD J
 
3155, 70
3156, 00
3157, 0D // SUB N2

3158, 08
3159, 2F // BEQL PC(2F) SKOCI NA POVRATAK 

315A, 20
315B, 00
315C,17 // LD K

315D, F5 //ASL

315E,6C
315F,10
3160,10 // ADD ARR


3161, 30
3162, 00
3163, 13 // ST POM1

3164, 20
3165,00
3166,11 // LD J

3167, F5 //ASL

3168, 6C
3169, 05
316A,00 // ADD ARR2



316B, 30
316C,00
316D,15 // ST POM2

316E, 24
316F,00
3170,15 // LD (POM2)
 
3171, 34
3172, 00
3173,13 // ST (POM1)

3174, 20
3175,00
3176,17 // LD K
 
3177, 6C
3178, 00
3179, 01 // ADD #1

317A, 30
317B, 00
317C, 17 // ST K


317D, 20
317E,00
317F,11 // LD J
 
3180, 6C
3181, 00
3182, 01 // ADD #1

3183, 30
3184, 00
3185, 11 // ST J

3186,10
3187,31
3188,52 // JMP WHILE3

// POVRATAK

3189, F0// RTS

// memorija

1000, 00
1001, 0A // broj elemenata niza tj promenljiva length

1010, 00
1011, 09
1012,00
1013,04 // niz ARR
1014,00
1015,01
1016,00
1017,03
1018,00
1019,06
101A,00
101B,00
101C,80
101D,01
101E,00
101F,01
1020,88
1021,88
1022,7F
1023,FF





